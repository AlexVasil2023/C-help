
[[#Списки типов|Списки типов]] 24
1. [[#Анатомия списков типов|Анатомия списков типов]] 24.1




# Списки типов

Эффективное программирование обычно требует использования различных структур данных, и метапрограммирование в этом смысле ничем не отличается. Для метапрограммирования типов центральной структурой данных является список типов ([[typelist|typelist]]), который, как следует из его имени, представляет собой список, содержащий типы. Шаблонные метапрограммы могут работать с этими списками типов, в конечном итоге производя часть выполнимой программы. В этой главе мы обсуждаем методы работы со списками типов. Поскольку большинство операций, связанных со списками типов, используются в шаблонном метапрограммировании, мы рекомендуем вам сначала познакомиться с [[Метапрограммирование|метапрограммированием]].

# Анатомия списков типов

Список типов — это тип, который содержит типы и с которым может работать шаблонная метапрограмма. Он обеспечивает операции, обычно предоставляемые списками: перебор элементов (типов), содержащихся в списке, добавление или удаление элементов. Однако списки типов отличаются от большинства схожих структур данных времени выполнения, таких как [[list|std::list]], тем, что они не допускают изменения. Например, добавление элемента к [[list|std::list]] изменяет сам список, и эти изменения можно наблюдать в любой другой части программы, которая имеет доступ к данному списку. Добавление же элемента в список типов не изменяет исходный тип: вместо этого добавление элемента в существующий список создает новый тип, не изменяя оригинал. Читатели, знакомые с языками функционального программирования, такими как `Scheme`, `ML` и `Haskell`, скорее всего, увидят параллели между работой со списками типов в C++ и списками на этих языках.

Список типов обычно реализуется как специализация шаблона класса, который кодирует содержимое списка типов (т.е. содержащиеся в нем типы и их порядок) в аргументах его шаблона. Непосредственная реализация списка типов кодирует элементы в пакет параметров:
```c++
template<typename... Elements>
class Typelist
{
};
```

Элементы [[typelist|Typelist]] записываются непосредственно как его аргументы шаблона. Пустой список типов записывается как `Typelist<>`, список, содержащий только `int`, записывается как `Typelist<int>`, и так далее. Вот список типов, содержащий знаковые целочисленные типы:
```c++
using SignedlntegralTypes =
	Typelist<signed char, short, int, long, long long>;
```








