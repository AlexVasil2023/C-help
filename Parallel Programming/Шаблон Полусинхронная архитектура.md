
[[#Полусинхронная архитектура|Полусинхронная архитектура]] 10.3
1. [[#Преимущества и недостатки|Преимущества и недостатки]] 10.3.1
2. [[#Шаблон «Реактор»|Шаблон «Реактор»]] 10.3.2
	1. [[#Требования|Требования]] 10.3.2.1

# Полусинхронная архитектура

Этот архитектурный шаблон позволяет разделить части системы, занимающиеся синхронной и асинхронной обработками данных, без чрезмерного удара по её общей производительности. Этот шаблон предполагает появление двух дополнительных слоёв взаимодействия, один из которых служит для синхронной обработки, а другой – для асинхронной.

![[ParallelProg_221.png]]

Шаблон «Полусинхронная архитектура» часто применяется в циклах обработки событий серверных систем и в графических интерфейсах пользователя. Цикл обработки событий обычно состоит в том, чтобы принять событие от пользователя или клиента, поставить соответствующий запрос в очередь и затем обработать этот запрос синхронным образом в отдельном потоке. Асинхронный способ приёма запросов обеспечивает высокую производительность системы, а синхронная их обработка упрощает устройство обработчика. Асинхронная и синхронная части системы разведены по различным уровням её структуры, а очередь связывает их между собой. Асинхронный уровень включает в себя низкоуровневые механизмы наподобие прерываний, тогда как синхронный уровень отвечает за более высокоуровневые операции, такие как запросы к базе данных или манипуляции с файлами. Асинхронный и синхронный уровни могут общаться между собой через промежуточный уровень – диспетчер запросов.

## Преимущества и недостатки

Преимущества полусинхронной обработки несомненны:
>
> чёткое разделение асинхронного и синхронного механизмов обработки. Низкоуровневые операции осуществляются на асинхронном, а высокоуровневые – на синхронном уровне;
> 
> наличие промежуточного слоя ослабляет зацепление между синхронной и асинхронной подсистемами;
> 
> чёткое разделение на уровни упрощает понимание, отладку, поддержку и расширение системы;
> 
> блокировка в синхронном уровне не влияет на производительность асинхронного.
> 

Данному архитектурному шаблону присущи также и некоторые недостатки:
>
> пересечение каждым запросом границ между уровнями влечёт определённые накладные расходы. Более того, это может требовать переключения контекста выполнения между режимами ядра и пользователя, поскольку асинхронные операции часто выполняются в пространстве ядра, а синхронные, как правило, в пространстве пользователя;
> 
> строгое разделение синхронного и асинхронного уровней требует либо неизменяемости данных, либо их дорогостоящего копирования.
> 

Полусинхронный принцип обработки часто применяется в системах демультиплексирования и диспетчеризации событий, подобных шаблонам «Реактор» и «Проактор».

## Шаблон «Реактор»

Шаблон «Реактор» относится к событийно-управляемым архитектурам с демультиплексированием и диспетчеризацией запросов на множество параллельно работающих серверов. Этот шаблон известен также под названиями «Диспетчер» или «Оповещатель».

### Требования































