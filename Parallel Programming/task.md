# std::task

Задания (англ. tasks) имеют много общего с потоками. Если поток создаётся и запускается в явном виде, то задание – это нечто, что должно быть рано или поздно выполнено. Реализация стандартной библиотеки C++ сама решит во время выполнения программы, когда задание выполнить, – простым примером может служить функция [[async|std::async]].

Объект-задание похож на канал передачи данных между двумя точками. На основе заданий можно реализовать потокобезопасную коммуникацию между потоками. [[promise|Обещание (англ. promise)]] на одном конце помещает данные в канал, а [[future|фьючерс]] на другом конце канала извлекает значение. В роли передаваемых данных могут выступать значения некоторых типов, исключения или просто оповещения о некотором событии. Помимо уже упомянутого [[async|std::async]], стандартная библиотека C++ содержит также шаблоны классов [[promise|std::promise]] и [[future|std::future]], позволяющие более полно управлять заданиями.

# Блоки заданий

Блоки заданий добавляют в язык C++ поддержку идиомы «разветвление–слияние» (fork-join). Следующий рисунок поясняет основную идею блока заданий: на этапе разветвления запускается выполнение ряда заданий, а этап слияния ожидает завершения их всех.

![[ParallelProg_8.png]]














