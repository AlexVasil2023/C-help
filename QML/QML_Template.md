# Шаблоны

При работе с HTML-проектами часто используется разработка на основе шаблонов. Небольшой HTML-заглушка разворачивается на стороне сервера с помощью кода, сгенерированного сервером с использованием механизма шаблонов. Например, для списка фотографий заголовок списка будет закодирован в HTML, а динамический список изображений будет динамически генерироваться с помощью механизма шаблонов. В принципе, это можно сделать и с помощью QML, но есть некоторые проблемы.
	
Во-первых, в этом нет необходимости. Разработчики HTML делают это для того, чтобы преодолеть ограничения бэкенда HTML. В HTML пока нет компонентной модели, поэтому динамические аспекты приходится решать с помощью этих механизмов или программно используя javascript на стороне клиента. Существует множество JS-фреймворков (jQuery, dojo, backbone, angular, ...), позволяющих решить эту проблему и заложить больше логики в браузер на стороне клиента для соединения с сетевым сервисом. Тогда клиент будет просто использовать API веб-сервиса (например, обслуживающего данные в формате JSON или XML) для связи с сервером. Такой подход представляется более удачным и для QML.

Второй проблемой является кэш компонентов из QML. Когда QML обращается к компоненту, он кэширует дерево рендеринга и для рендеринга загружает только кэшированную версию. Измененная версия на диске или на удаленном компьютере не будет обнаружена без перезапуска клиента. Чтобы решить эту проблему, можно воспользоваться одним приемом.

Мы можем использовать фрагменты URL для загрузки URL (например, http://localhost:8080/main.qml#1234 (http://localhost:8080/main.qml#1234), где '#1234' - это фрагмент. HTTP-сервер обслуживает всегда один и тот же документ, но QML будет хранить этот документ, используя полный URL, включая фрагмент. Каждый раз, когда мы будем обращаться к этому URL, фрагмент должен будет меняться, а кэш QM.
не даст положительного результата. В качестве фрагмента может
выступать, например, текущее время в миллисекундах или
случайное число.
Таким образом, использование шаблонов возможно, но не
рекомендуется и не соответствует сильным сторонам QML. Более
эффективным подходом является использование веб-сервисов,
которые предоставляют данные в формате JSON или XML.
