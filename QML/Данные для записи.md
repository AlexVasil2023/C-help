# Данные для записи

Для сохранения документа мы подключаем действие "сохранить" функция `saveDocument()`. Функция сохранения документа принимает модель из представления, которое является JS-объектом, и преобразуем его в строку с помощью функции `JSON.stringify()`. Полученная строка устанавливается в свойство `text` нашего объекта [[QML FileIO|FileIO]], и мы вызываем функцию `write()` для сохранения данных на диск. Параметры "null" и "4" функции `stringify` отформатируют полученные JSON-данные, используя отступ в 4 пробела. Это необходимо для лучшего чтения сохраненного документа.

```c++
Action {
	id: save
	...
	
	onTriggered: {
		saveDocument()
	}
}

function saveDocument() {
	var data = view.model
	io.text = JSON.stringify(data, null, 4)
	io.write()
}

FileIO {
	id: io
}
```

По сути, это приложение для чтения, записи и отображения JSON-документа. Подумайте о том, сколько времени тратится на написание программ чтения и записи XML. В случае JSON все, что вам нужно - это способ чтения и записи текстового файла или передачи и приема текстового буфера.

![[QML_JSON.png]]




