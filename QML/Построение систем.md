# Построение систем

Создание надежного программного обеспечения на различных платформах может оказаться сложной задачей. Вы столкнетесь с различными средами с разными компиляторами, путями и вариантами библиотек. Задача Qt - оградить разработчика приложений от этих кроссплатформенных проблем. Qt опирается на [[CMake|CMake]] (https://cmake.org/) для преобразования файлов проекта [[CMakeLists.txt|CMakeLists.txt]] в файлы `make` для конкретной платформы, которые затем могут быть собраны с помощью инструментария для конкретной платформы.

> - Qt поставляется с тремя различными системами сборки. Оригинальная система сборки Qt называлась [[QMake|qmake]]. Другой системой сборки, специфичной для Qt, является `QBS`, которая использует декларативный подход к описанию последовательности сборки. Начиная с версии 6, Qt перешел от [[QMake|qmake]] к [[CMake|CMake]] в качестве официальной системы сборки.

Типичный поток сборки в Qt под Unix выглядит следующим образом:

```sh
vim CMakeLists.txt
cmake . // generates Makefile
make
```

В Qt рекомендуется использовать теневые сборки. Теневая сборка - это сборка вне места расположения исходного кода. Предположим, что у нас есть папка `myproject` с файлом `CMakeLists.txt`. Процесс будет выглядеть следующим образом:

```sh
mkdir build
cd build
cmake ..
```

Мы создаем папку `build` и затем вызываем [[CMake|CMake]] из папки `build` с указанием местоположения папки нашего проекта. При этом `makefile` будет настроен таким образом, что все артефакты сборки будут храниться в папке сборки, а не в папке исходного кода. Это позволит нам одновременно создавать сборки для различных версий qt и конфигураций сборки, а также не загромождать папку с исходным кодом, что всегда хорошо.

Когда вы используете Qt Creator, он выполняет все эти действия за вас, и в большинстве случаев вам не нужно беспокоиться об этих шагах. Для больших проектов и для более глубокого понимания процесса рекомендуется научиться собирать свой Qt-проект из командной строки , чтобы обеспечить полный контроль над происходящим.



