# std::optional C++17

`std::optional` удивительно полезен и на практике предоставляет возможности, существующие во многих функциональных языках. `'optional'` – это объект, который может содержать либо не содержать значения; этот объект удобно использовать в качестве возвращаемого значения функции, когда она не может вернуть значение; тогда он служит альтернативой, например, нулевому указателю.  
Работая с `optional`, мы приобретаем дополнительное преимущество: теперь возможность отказа функции явно обозначена прямо в объявлении, и, поскольку приходится извлекать значение из optional, значительно снижается вероятность, что мы случайно используем нулевое значение.  
В следующем примере определяется функция преобразования, пытающаяся превратить строку в целое число. Возвращая `optional`, функция оставляет такую возможность: может быть передана недопустимая строка, преобразовать которую не удастся. Вызывающая сторона использует функцию `value_or`, чтобы получить значение из `optional`, а при отказе функции возвращает заданное по умолчанию значение, равное нулю (в случае, если преобразование не удалось).
```c++
#include <experimental/optional> 

using namespace std::experimental; 

optional<int> convert(const std::string& s) { 
	try { 
		int res = std::stoi(s); 
		
		return res; 
	} 
	catch(std::exception&) { 
		return {}; 
	} 
} 

int v = convert("123").value_or(0); 
std::cout << v << std::endl; 

int v1 = convert("abc").value_or(0); 
std::cout << v1 << std::endl;
```



















```
