
[[#Генераторы|Генераторы]] 14.3 (STL)



# Генераторы

Часто диапазон необходимо генерировать "на лету". Стандартная библиотека предоставляет для этого несколько простых генераторов (они же фабрики):

Фабрики диапазонов `<ranges>` `v` это представление; `x` это элемент типа `T`; `is` это `istream`

| `v=empty_view<T>{}`        | `v` это пустой диапазон типа `T elements` (had it had any)                                             |
| -------------------------- | ------------------------------------------------------------------------------------------------------ |
| `v = single_view{x}`       | `v` это диапазон из одного элемента `x`                                                                |
| `v = iota_view{x}`         | `v` это бесконечный диапазон элементов: `x`, `x+1`, `x+2`, ...<br>инкремент выполняется с помощью `++` |
| `v = iota_view{x, y}`      | `v` это диапазон из `n` элементов: `x`, `x+1`, ..., `y-1`<br>инкремент выполняется с помощью `++`      |
| `v = istream_view<T> {is}` | `v` это диапазон полученный вызовом `>>` для `T` из `is`                                               |

`iota_view` полезны для генерации простых последовательностей. Например:
```c++
for (int x : iota_view(42,52)) // 42 43 44 45 46 47 48 49 50 51
	cout << x <<' ';
```

`istream_view` дает нам простой способ использования [[stream#std istream|istream]] в циклах [[for|range-for]]:
```c++
for (auto x : istream_view<complex<double>(cin) )
	cout << x << '\n';
```

Как и другие представления, `istream_view` может быть составлен из других представлений:
```c++
auto cplx = istream_view<complex<double>>(cin);
for (auto x : transform_view(cplx, [](auto z){ return z*z;}))
	cout << x << '\n';
```

При вводе 1 2 3 получается 1 4 9.



