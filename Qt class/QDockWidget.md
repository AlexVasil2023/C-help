
# QDockWidget(Прикрепляемые панели)

Если возможностей панелей инструментов недостаточно и необходимо добавить компоненты, занимающие много места (например, таблицу или иерархический список), то можно воспользоваться прикрепляемыми панелями. Прикрепляемые панели реализуются с помощью класса `QDockWidget`. Иерархия наследования для класса `QDockWidget` выглядит так:
```
(QObject, QPaintDevice) — QWidget — QDockWidget
```

Форматы конструктора класса `QDockWidget`:
```c++
#include <QDockWidget>

QDockWidget(QWidget *parent = nullptr, Qt::WindowFlags flags = Qt::WindowFlags())

QDockWidget(const QString &title, QWidget *parent = nullptr,
					Qt::WindowFlags flags = Qt::WindowFlags())
```

В параметре `title` задается название панели, которое отображается в заголовке панели и в контекстном меню при щелчке правой кнопкой мыши в области меню, панелей инструментов или на заголовке прикрепляемых панелей. С помощью контекстного меню можно скрыть или отобразить прикрепляемую панель.

Класс `QDockWidget` наследует все методы из базовых классов и содержит следующие дополнительные методы (перечислены только основные методы; полный список смотрите в документации):

> **setWidget()** — устанавливает компонент, который будет отображаться на прикрепляемой панели. Прототип метода:
```c++
void setWidget(QWidget *widget)
```

> **widget()** — возвращает указатель на компонент, расположенный внутри панели. Прототип метода:
```c++
QWidget *widget() const
```

> **setTitleBarWidget()** — позволяет указать пользовательский компонент, отображаемый в заголовке панели. Прототип метода:
```c++
void setTitleBarWidget(QWidget *widget)
```

> **titleBarWidget()** — возвращает указатель на пользовательский компонент, расположенный в заголовке панели. Прототип метода:
```c++
QWidget *titleBarWidget() const
```

> **setAllowedAreas()** — задает области, к которым можно прикрепить панель. В качестве параметра указываются константы (или их комбинация через оператор `|`) `Qt::LeftDockWidgetArea` (слева), `Qt::RightDockWidgetArea` (справа), `Qt::TopDockWidgetArea` (сверху), `Qt::BottomDockWidgetArea` (снизу) или `Qt::AllDockWidgetAreas`. Прототип метода:
```c++
void setAllowedAreas(Qt::DockWidgetAreas areas)
```

> **setFloating()** — если в качестве параметра указано значение `true`, то панель будет отображаться в отдельном окне, а если указано значение `false`, то панель будет прикреплена к какой-либо области. Прототип метода:
```c++
void setFloating(bool floating)
```

> **isFloating()** — возвращает значение `true`, если панель отображается в отдельном окне, и `false` — в противном случае. Прототип метода:
```c++
bool isFloating() const
```

> **setFeatures()** — устанавливает свойства панели. Прототип метода:
```c++
void setFeatures(QDockWidget::DockWidgetFeatures features)
```

В качестве параметра указывается комбинация (через оператор `|`) следующих констант:
* **QDockWidget::DockWidgetClosable** — панель можно закрыть;
* **QDockWidget::DockWidgetMovable** — панель можно перемещать с помощью мыши;
* **QDockWidget::DockWidgetFloatable** — панель может отображаться в отдельном окне;
* **QDockWidget::DockWidgetVerticalTitleBar** — заголовок панели отображается с левой стороны, а не сверху;
* **QDockWidget::NoDockWidgetFeatures** — панель нельзя закрыть, перемещать, и она не может отображаться в отдельном окне;

> **features()** — возвращает комбинацию установленных свойств панели. Прототип метода:
```c++
QDockWidget::DockWidgetFeatures features() const
```

> **toggleViewAction()** — возвращает объект действия (указатель на экземпляр класса [[QAction|QAction]]), с помощью которого можно скрыть или отобразить панель. Прототип метода:
```c++
QAction *toggleViewAction() const
```

Класс `QDockWidget` содержит следующие сигналы (перечислены только основные сигналы; полный список смотрите в документации):
* **`dockLocationChanged(Qt::DockWidgetArea)`** — генерируется при изменении области. Внутри обработчика через параметр доступна новая область, к которой прикреплена панель;
* **`visibilityChanged(bool)`** — генерируется при изменении видимости панели. Внутри обработчика через параметр доступно значение `true`, если панель видима, и `false` — если скрыта;
* **`topLevelChanged(bool)`** — генерируется при изменении положения панели. Внутри обработчика через параметр доступно значение `true`, если панель отображается в отдельном окне, и `false` — если прикреплена к области.
