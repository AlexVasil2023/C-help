
# Класс QWizardPage

Класс `QWizardPage` описывает одну страницу в многостраничном мастере. Иерархия наследования для класса `QWizardPage` выглядит так:
```
(QObject, QPaintDevice) — QWidget — QWizardPage
```

Формат конструктора класса `QWizardPage`:
```c++
#include <QWizardPage>

QWizardPage(QWidget *parent = nullptr)
```

Класс `QWizardPage` наследует все методы из базовых классов и содержит следующие дополнительные методы (перечислены только основные методы; полный список смотрите в документации):

> **wizard()** — возвращает указатель на объект мастера (экземпляр класса [[QWizard|QWizard]]) или нулевой указатель, если страница не была добавлена. Прототип метода:
```c++
protected: QWizard *wizard() const
```

> **setTitle()** — задает название страницы. Прототип метода:
```c++
void setTitle(const QString &title)
```

> **title()** — возвращает название страницы. Прототип метода:
```c++
QString title() const
```

> **setSubTitle()** — задает описание страницы. Прототип метода:
```c++
void setSubTitle(const QString &subTitle)
```

> **subTitle()** — возвращает описание страницы. Прототип метода:
```c++
QString subTitle() const
```

> **setButtonText()** — устанавливает текст надписи для кнопки с указанной ролью (допустимые значения параметра `which` смотрите в описании метода `setButton()` из класса [[QWizard|QWizard]]). Прототип метода:
```c++
void setButtonText(QWizard::WizardButton which, const QString &text)
```

> **buttonText()** — возвращает текст надписи кнопки с указанной ролью. Прототип метода:
```c++
QString buttonText(QWizard::WizardButton which) const
```

> **setPixmap()** — добавляет изображение для указанной роли (допустимые значения параметра `which` смотрите в описании метода `setPixmap()` из класса [[QWizard|QWizard]]). Прототип метода:
```c++
void setPixmap(QWizard::WizardPixmap which, const QPixmap &pixmap)
```

> **registerField()** — регистрирует свойство, с помощью которого можно получить доступ к значению компонента с любой страницы мастера. Прототип метода:
```c++
protected: void registerField(const QString &name,
		QWidget *widget, const char *property = nullptr,
		const char *changedSignal = nullptr)
```

В параметре `name` указывается произвольное название свойства в виде строки. Если в конце строки указать символ `*`, то компонент должен обязательно иметь значение (например, в поле должно быть введено какое-либо значение), иначе кнопки `Next` и `Finish` будут недоступны. Во втором параметре передается указатель на компонент. После регистрации свойства изменить значение компонента позволяет метод `setField()`, а получить значение — метод `field()`.

В параметре `property` может быть указано свойство для получения и изменения значения, а в параметре `changedSignal` — сигнал, генерируемый при изменении значения. Назначить эти параметры для определенного класса позволяет также метод `setDefaultProperty()` из класса [[QWizard|QWizard]]. Для стандартных классов по умолчанию используются следующие свойства и сигналы:

| Класс:            | Свойство:      | Сигнал:                 |
| ----------------- | -------------- | ----------------------- |
| `QAbstractButton` | `checked`      | `toggled()`             |
| `QAbstractSlider` | `value`        | `valueChanged()`        |
| `QComboBox`       | `currentIndex` | `currentIndexChanged()` |
| `QDateTimeEdit`   | `dateTime`     | `dateTimeChanged()`     |
| `QLineEdit`       | `text`         | `textChanged()`         |
| `QListWidget`     | `currentRow`   | `currentRowChanged()`   |
| `QSpinBox`        | `value`        | `valueChanged()`        |

> **setField()** — устанавливает значение указанного свойства. С помощью этого метода можно изменять значения компонентов, расположенных на разных страницах мастера. Прототип метода:
```c++
protected: void setField(const QString &name, const QVariant &value)
```

> **field()** — возвращает значение указанного свойства. С помощью этого метода можно получить значения компонентов, расположенных на разных страницах мастера. Прототип метода:
```c++
protected: QVariant field(const QString &name) const
```

> **setFinalPage()** — если в качестве параметра указано значение `true`, то на странице будет отображаться кнопка `Finish`. Прототип метода:
```c++
void setFinalPage(bool)
```

> **isFinalPage()** — возвращает значение `true`, если на странице будет отображаться кнопка `Finish`, и `false` — в противном случае. Прототип метода:
```c++
bool isFinalPage() const
```

> **setCommitPage()** — если в качестве параметра указано значение `true`, то на странице будет отображаться кнопка `Commit`. Прототип метода:
```c++
void setCommitPage(bool)
```

> **isCommitPage()** — возвращает значение `true`, если на странице будет отображаться кнопка `Commit`, и `false` — в противном случае. Прототип метода:
```c++
bool isCommitPage() const
```

> **isComplete()** — этот метод вызывается, чтобы определить, должны ли кнопки `Next` и `Finish` быть доступными (метод возвращает значение `true`) или недоступными (метод возвращает значение `false`). Метод можно переопределить в классе, наследующем класс `QWizardPage`, и реализовать собственную проверку правильности ввода данных. При изменении возвращаемого значения необходимо генерировать сигнал `completeChanged()`. Прототип метода:
```c++
virtual bool isComplete() const
```

> **nextId()** — этот метод следует переопределить в классе, наследующем класс `QWizardPage`, если необходимо изменить порядок отображения страниц. Метод вызывается при нажатии кнопки `Next`. Метод должен возвращать идентификатор следующей страницы или значение –1. Прототип метода:
```c++
virtual int nextId() const
```

> **initializePage()** — этот метод следует переопределить в классе, наследующем класс `QWizardPage`, если необходимо производить настройку свойств компонентов на основе данных, введенных на предыдущих страницах. Метод вызывается при нажатии кнопки `Next` на предыдущей странице, но до отображения следующей страницы. Если установлена опция `IndependentPages`, то метод вызывается только при первом отображении страницы. Прототип метода:
```c++
virtual void initializePage()
```

> **cleanupPage()** — этот метод следует переопределить в классе, наследующем класс `QWizardPage`, если необходимо контролировать нажатие кнопки `Back`. Метод вызывается при нажатии кнопки `Back` на текущей странице, но до отображения предыдущей страницы. Если установлена опция `IndependentPages`, то метод не вызывается. Прототип метода:
```c++
virtual void cleanupPage()
```

> **validatePage()** — этот метод следует переопределить в классе, наследующем класс `QWizardPage`, если необходимо производить проверку данных, введенных на текущей странице. Метод вызывается при нажатии кнопки `Next` или `Finish`. Метод должен возвратить значение `true`, если данные корректны, и `false` — в противном случае. Если метод возвращает значение `false`, то переход на следующую страницу не производится. Прототип метода:
```c++
virtual bool validatePage()
```
