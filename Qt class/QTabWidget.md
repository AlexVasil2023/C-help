# QTabWidget

Для создания панели с вкладками предназначен класс `QTabWidget`. Панель состоит из области заголовка с ярлыками и набора вкладок с различными компонентами. В один момент времени показывается содержимое только одной вкладки. Щелчок мышью на ярлыке в области заголовка приводит к отображению содержимого соответствующий вкладки. Иерархия наследования для класса `QTabWidget` выглядит так:
```
(QObject, QPaintDevice) — QWidget — QTabWidget
```

Конструктор класса `QTabWidget` имеет следующий прототип:

```c++
#include <QTabWidget>

QTabWidget(QWidget *parent = nullptr)
```

В параметре `parent` передается указатель на родительский компонент. Если параметр не указан, то компонент будет обладать своим собственным окном. Типичный пример использования класса `QTabWidget` выглядит так:

```c++
QWidget window;
window.setWindowTitle("Класс QTabWidget");
window.resize(350, 120);

QTabWidget *tab = new QTabWidget();
tab->addTab(new QLabel("Содержимое вкладки 1"), "Вкладка &1");
tab->addTab(new QLabel("Содержимое вкладки 2"), "Вкладка &2");
tab->addTab(new QLabel("Содержимое вкладки 3"), "Вкладка &3");
tab->setCurrentIndex(0);

QVBoxLayout *vbox = new QVBoxLayout();
vbox->addWidget(tab);

window.setLayout(vbox);
window.show();
```

Результат выполнения этого кода:

![[GUI_2.png]]

Класс `QTabWidget` содержит следующие методы (перечислены только основные методы; полный список смотрите в документации):

> **addTab()** — добавляет вкладку в конец контейнера. Метод возвращает индекс добавленной вкладки. Прототипы метода:
```c++
int addTab(QWidget *page, const QString &label)
int addTab(QWidget *page, const QIcon &icon, const QString &label)
```
В параметре `page` передается указатель на компонент, который будет отображаться на вкладке. Чаще всего этот компонент является лишь родителем для других компонентов. Параметр `label` задает текст, который будет отображаться на ярлыке в области заголовка. Внутри текста заголовка символ `&`, указанный перед буквой, задает комбинацию клавиш быстрого доступа. В этом случае буква, перед которой указан символ `&`, будет подчеркнута, что является подсказкой пользователю. При одновременном нажатии клавиши `<Alt>` и подчеркнутой буквы соответствующая вкладка будет отображена. Параметр `icon` позволяет указать значок (экземпляр класса [[QIcon|QIcon]]), который отобразится перед текстом в области заголовка. Пример указания стандартного значка:

```c++
QIcon icon1 = window.style()->standardIcon(QStyle::SP_DriveHDIcon);
tab->addTab(new QLabel("Содержимое вкладки 1"), icon1, "Вкладка &1");
```

Пример загрузки значка из файла:

```c++
QIcon icon3("C:\\cpp\\projectsQt\\Test\\test.ico");
tab->addTab(new QLabel("Содержимое вкладки 3"), icon3, "Вкладка &3");
```

> **insertTab()** — добавляет вкладку в указанную позицию. Метод возвращает индекс добавленной вкладки. Прототипы метода:
```c++
int insertTab(int index, QWidget *page, const QString &label)
int insertTab(int index, QWidget *page, const QIcon &icon, 
				  const QString &label)
```

Пример добавления вкладки в конец контейнера после нажатия кнопки:

```c++
void Widget::on_btn1_clicked()
{
	tab->setUpdatesEnabled(false); // Для предотвращения мерцания
	
	int ind = tab->insertTab(-1,
					new QLabel("Содержимое вкладки 3"), "Вкладка &3");
	tab->setCurrentIndex(ind);
	tab->setUpdatesEnabled(true); // Устанавливаем обратно
	
	btn1->setEnabled(false);
}
```

> **removeTab()** — удаляет вкладку с указанным индексом. При этом компонент, который отображался на вкладке, не удаляется. Прототип метода:
```c++
void removeTab(int index)
```

> **clear()** — удаляет все вкладки. При этом компоненты, которые отображались на вкладках, не удаляются. Прототип метода:
```c++
void clear()
```

> **setTabText()** — задает текст заголовка для вкладки с указанным индексом. Прототип метода:
```c++
void setTabText(int index, const QString &label)
```

> **tabText()** — возвращает текст заголовка вкладки с указанным индексом. Прототип метода:
```c++
QString tabText(int index) const
```

> **setElideMode()** — задает режим обрезки текста в названии вкладки, если он не помещается в отведенную область. В месте пропуска выводится многоточие. Прототип метода:
```c++
void setElideMode(Qt::TextElideMode mode)
```

Могут быть указаны следующие константы:

* **Qt::ElideLeft** — текст обрезается слева;
* **Qt::ElideRight** — текст обрезается справа;
* **Qt::ElideMiddle** — текст обрезается посередине;
* **Qt::ElideNone** — текст не обрезается

Получение значения:
```c++
Qt::TextElideMode elideMode() const
```

> **setTabIcon()** — устанавливает значок перед текстом в заголовке вкладки с указанным индексом. Прототип метода:
```c++
void setTabIcon(int index, const QIcon &icon)
```

Получение значения:
```c++
QIcon tabIcon(int index) const
```

> **setTabPosition()** — задает позицию области заголовка. Прототип метода:
```c++
void setTabPosition(QTabWidget::TabPosition position)
```

Могут быть указаны следующие константы:

* **QTabWidget::North** — сверху;
* **QTabWidget::South** — снизу;
* **QTabWidget::West** — слева;
* **QTabWidget::East** — справа.

Пример указания значения:
```c++
tab->setTabPosition(QTabWidget::East);
```

Получение значения:
```c++
QTabWidget::TabPosition tabPosition() const
```

> **setTabShape()** — задает форму углов ярлыка вкладки в области заголовка. Прототип метода:
```c++
void setTabShape(QTabWidget::TabShape s)
```

Могут быть указаны следующие константы:

> **QTabWidget::Rounded** — скругленные углы (значение по умолчанию);
> **QTabWidget::Triangular** — треугольная форма.

Получение значения:
```c++
QTabWidget::TabShape tabShape() const
```

> **setTabsClosable()** — если в качестве параметра указано значение `true`, то после текста заголовка будет отображена кнопка закрытия вкладки. При нажатии этой кнопки генерируется сигнал `tabCloseRequested(int)`. Прототип метода:
```c++
void setTabsClosable(bool closeable)
```

Получение значения:
```c++
bool tabsClosable() const
```

> **setMovable()** — если в качестве параметра указано значение `true`, то ярлыки вкладок можно перемещать с помощью мыши. Прототип метода:
```c++
void setMovable(bool movable)
```

Получение значения:
```c++
bool isMovable() const
```

> **setDocumentMode()** — если в качестве параметра указано значение `true`, то область компонента не будет отображаться как панель. Прототип метода:
```c++
void setDocumentMode(bool set)
```

Получение значения:
```c++
bool documentMode() const
```

> **setUsesScrollButtons()** — если в качестве параметра указано значение `true`, то, когда все ярлыки вкладок не помещаются в область заголовка, появляются две кнопки, с помощью которых можно прокручивать область заголовка, тем самым отображая только часть ярлыков. Значение `false` запрещает сокрытие ярлыков. Прототип метода:
```c++
void setUsesScrollButtons(bool useButtons)
```

Получение значения:
```c++
bool usesScrollButtons() const
```

> **setTabToolTip()** — задает текст всплывающей подсказки для ярлыка вкладки с указанным индексом. Прототип метода:
```c++
void setTabToolTip(int index, const QString &tip)
```

Получение значения:
```c++
QString tabToolTip(int index) const
```

> **setTabWhatsThis()** — задает текст справки для ярлыка вкладки с указанным индексом. Прототип метода:
```c++
void setTabWhatsThis(int index, const QString &text)
```

Получение значения:
```c++
QString tabWhatsThis(int index) const
```

> **setTabEnabled()** — если во втором параметре указано значение `false`, то вкладка с указанным в первом параметре индексом станет недоступной. Значение `true` делает вкладку доступной. Прототип метода:
```c++
void setTabEnabled(int index, bool enable)
```

> **isTabEnabled()** — возвращает значение true, если вкладка с указанным индексом доступна, и `false` — в противном случае. Прототип метода:
```c++
bool isTabEnabled(int index) const
```

> **setTabVisible()** — если во втором параметре указано значение `false`, то вкладка с указанным в первом параметре индексом будет скрыта. Значение `true` делает вкладку видимой. Прототип метода:
```c++
void setTabVisible(int index, bool visible)
```

Получение значения:
```c++
bool isTabVisible(int index) const
```

> **setTabBarAutoHide()** — если в параметре указано значение `true`, то область ярлыков вкладок будет скрываться, если панель содержит меньше двух вкладок. Прототип метода:
```c++
void setTabBarAutoHide(bool enabled)
```

Получение значения:
```c++
bool tabBarAutoHide() const
```

> **count()** — возвращает количество вкладок. Прототип метода:
```c++
int count() const
```

> **currentIndex()** — возвращает индекс видимой вкладки. Прототип метода:
```c++
int currentIndex() const
```

> **currentWidget()** — возвращает указатель на компонент, расположенный на видимой вкладке. Прототип метода:
```c++
QWidget *currentWidget() const
```

> **widget()** — возвращает указатель на компонент, который расположен по указанному индексу, или нулевой указатель. Прототип метода:
```c++
QWidget *widget(int index) const
```

> **indexOf()** — возвращает индекс вкладки, на которой расположен компонент. Если компонент не найден, возвращается значение –1. Прототип метода:
```c++
int indexOf(const QWidget *w) const
```

> **setCurrentIndex()** — делает видимой вкладку с указанным в параметре индексом. Метод является слотом. Прототип метода:
```c++
void setCurrentIndex(int index)
```

> **setCurrentWidget()** — делает видимым компонент, указатель на который указан в параметре. Метод является слотом. Прототип метода:
```c++
void setCurrentWidget(QWidget *widget)
```

Класс `QTabWidget` содержит следующие сигналы:

> **currentChanged(int)** — генерируется при изменении вкладки. Через параметр внутри обработчика доступен индекс новой вкладки;
> 
> **tabCloseRequested(int)** — генерируется при нажатии кнопки закрытия вкладки. Через параметр внутри обработчика доступен индекс вкладки;
> 
> **tabBarClicked(int)** — генерируется при щелчке мышью в области заголовков вкладок. Через параметр внутри обработчика доступен индекс вкладки или значение –1;
> 
> **tabCloseRequested(int)** — генерируется при двойном щелчке мышью в области заголовков вкладок. Через параметр внутри обработчика доступен индекс вкладки или значение –1.






























