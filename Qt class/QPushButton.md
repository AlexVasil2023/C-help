# QPushButton

Командная кнопка является наиболее часто используемым компонентом. При нажатии кнопки внутри обработчика обычно выполняется какая-либо операция. Кнопка реализуется с помощью класса `QPushButton`. Иерархия наследования:
```
(QObject, QPaintDevice) — QWidget — QAbstractButton — QPushButton
```

Конструктор класса `QPushButton` имеет три формата:
```c++
#include <QPushButton>

QPushButton(const QString &text, QWidget *parent = nullptr)

QPushButton(const QIcon &icon, const QString &text,
				QWidget *parent = nullptr)
				
QPushButton(QWidget *parent = nullptr)
```

В параметре `parent` передается указатель на родительский компонент. Если параметр не указан или имеет значение [[nullptr_t|nullptr]], то компонент будет обладать своим собственным окном. Параметр `text` позволяет задать текст, который будет отображен на кнопке, а параметр `icon` позволяет добавить перед текстом значок. 

Класс `QPushButton` наследует следующие методы из класса `QAbstractButton` (перечислены только основные методы; полный список смотрите в документации):

> **setText()** — задает текст, который будет отображен на кнопке. Внутри текста символ `&`, указанный перед буквой или цифрой, задает комбинацию клавиш быстрого доступа. В этом случае буква, перед которой указан символ `&`, будет подчеркнута, что является подсказкой пользователю. При одновременном нажатии клавиши `<Alt>` и подчеркнутой буквы кнопка будет нажата. Чтобы вывести символ `&`, необходимо его удвоить. Прототип метода:
```c++
void setText(const QString &text)
```

> **text()** — возвращает текст, отображаемый на кнопке. Прототип метода:
```c++
QString text() const
```

> **setShortcut()** — задает комбинацию клавиш быстрого доступа. Прототип метода:
```c++
void setShortcut(const QKeySequence &key)
```

Примеры указания значения:
```c++
btn1->setShortcut(QKeySequence("Alt+В"));
btn1->setShortcut(QKeySequence(Qt::ALT | Qt::Key_E));
btn1->setShortcut(QKeySequence::mnemonic("&В"));
```

Получение значения:
```c++
QKeySequence shortcut() const
```

> **setIcon()** — позволяет вставить значок перед текстом. Прототип метода:
```c++
void setIcon(const QIcon &icon)
```

Получение значения:
```c++
QIcon icon() const
```

> **setIconSize()** — задает размеры значка. Метод является слотом. Прототип метода:
```c++
void setIconSize(const QSize &size)
```

Получение значения:
```c++
QSize iconSize() const
```

> **setAutoRepeat()** — если в качестве параметра указано значение `true`, то сигнал `clicked()` будет периодически генерироваться, пока кнопка находится в нажатом состоянии. Примером являются кнопки, изменяющие значение полосы прокрутки. Прототип метода:
```c++
void setAutoRepeat(bool)
```

Получение значения:
```c++
bool autoRepeat() const
```

> **setAutoRepeatDelay()** — задает начальную задержку в миллисекундах перед периодической генерацией сигнала `clicked()`. Прототип метода:
```c++
void setAutoRepeatDelay(int)
```

Получение значения:
```c++
int autoRepeatDelay() const
```

> **setAutoRepeatInterval()** — задает интервал в миллисекундах перед повторной генерацией сигнала `clicked()`. Прототип метода:
```c++
void setAutoRepeatInterval(int)
```

Получение значения:
```c++
int autoRepeatInterval() const
```

> **animateClick()** — имитирует нажатие кнопки пользователем. Метод является слотом. Прототип метода:
```c++
void animateClick()
```

> **click()** — имитирует нажатие кнопки без анимации. Метод является слотом. Прототип метода:
```c++
void click()
```

> **toggle()** — переключает кнопку. Метод является слотом. Прототип метода:
```c++
void toggle()
```

> **setCheckable()** — если в качестве параметра указано значение `true`, то кнопка является переключателем, который может находиться в двух состояниях — установленном и неустановленном. Прототип метода:
```c++
void setCheckable(bool)
```

Получение значения:
```c++
bool isCheckable() const
```

> **setChecked()** — если в качестве параметра указано значение `true`, то кнопка-переключатель будет находиться в установленном состоянии. Метод является слотом. Прототип метода:
```c++
void setChecked(bool)
```

> **isChecked()** — возвращает значение `true`, если кнопка находится в установленном состоянии, и `false` — в противном случае. Прототип метода:
```c++
bool isChecked() const
```

> **setAutoExclusive()** — если в качестве параметра указано значение `true`, то внутри группы только одна кнопка-переключатель может быть установлена. Прототип метода:
```c++
void setAutoExclusive(bool)
```

Получение значения:
```c++
bool autoExclusive() const
```

> **setDown()** — если в качестве параметра указано значение `true`, то кнопка будет находиться в нажатом состоянии. Прототип метода:
```c++
void setDown(bool)
```

> **isDown()** — возвращает значение `true`, если кнопка находится в нажатом состоянии, и `false` — в противном случае. Прототип метода:
```c++
bool isDown() const
```

Кроме перечисленных состояний кнопка может находиться в неактивном состоянии. Для этого необходимо передать значение `false` в метод `setEnabled()` из класса [[QWidget|QWidget]]. Метод является слотом. Проверить, активна кнопка или нет, позволяет метод `isEnabled()`. Метод возвращает значение `true`, если кнопка находится в активном состоянии, и `false` — в противном случае. Прототипы методов:
```c++
void setEnabled(bool)
bool isEnabled() const
```

Класс `QAbstractButton` содержит следующие сигналы:

> **pressed()** — генерируется при нажатии кнопки;
> **released()** — генерируется при отпускании ранее нажатой кнопки;
> **clicked(bool checked=false)** — генерируется при нажатии, а затем отпускании кнопки мыши над кнопкой. Именно для этого сигнала обычно назначают обработчики;
> **toggled(bool)** — генерируется при переключении кнопки. Через параметр внутри обработчика доступно текущее состояние кнопки.

Класс `QPushButton` содержит дополнительные методы:

> **setFlat()** — если в качестве параметра указано значение `true`, то кнопка будет отображаться без границ. Прототип метода:
```c++
void setFlat(bool)
```

Получение значения:
```c++
bool isFlat() const
```

> **setAutoDefault()** — если в качестве параметра указано значение `true`, то кнопка может быть нажата с помощью клавиши `<Enter>` при условии, что она находится в фокусе. По умолчанию нажать кнопку позволяет только клавиша `<Пробел>`. В диалоговых окнах для всех кнопок по умолчанию указано значение `true`, а для остальных окон — значение `false`. Прототип метода:
```c++
void setAutoDefault(bool)
```

Получение значения:
```c++
bool autoDefault() const
```

> **setDefault()** — задает кнопку по умолчанию. Метод работает только в диалоговых окнах. Эта кнопка может быть нажата с помощью клавиши `<Enter>`, когда фокус ввода установлен на другой компонент, например на текстовое поле. Прототип метода:
```c++
void setDefault(bool)
```

Получение значения:
```c++
bool isDefault() const
```

> **setMenu()** — устанавливает всплывающее меню, которое будет отображаться при нажатии кнопки. Прототип метода:
```c++
void setMenu(QMenu *menu)
```

Получение значения:
```c++
QMenu *menu() const
```

> **showMenu()** — отображает всплывающее меню. Метод является слотом. Прототип метода:
```c++
void showMenu()
```


