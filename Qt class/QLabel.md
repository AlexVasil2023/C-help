# QLabel

Надпись применяется для вывода подсказки пользователю, информирования пользователя о ходе выполнения операции, назначения клавиш быстрого доступа применительно к другому компоненту, а также для вывода изображений и анимации. Кроме того, надписи позволяют отображать текст в формате HTML, отформатированный с помощью CSS, что делает надпись самым настоящим браузером. В библиотеке Qt надпись реализуется с помощью класса `QLabel`. Иерархия наследования выглядит так:
```
(QObject, QPaintDevice) — QWidget — QFrame — QLabel
```

Конструктор класса `QLabel` имеет два формата:
```c++
#include <QLabel>

QLabel(const QString &text, QWidget *parent = nullptr, 
							   Qt::WindowFlags f = Qt::WindowFlags())
		   
QLabel(QWidget *parent = nullptr, Qt::WindowFlags f = Qt::WindowFlags())
```

В параметре `parent` передается указатель на родительский компонент. Если параметр не указан или имеет значение [[nullptr_t|nullptr]], то компонент будет обладать своим собственным окном, тип которого можно задать с помощью параметра `f`. Параметр `text` позволяет задать текст, который будет отображен на надписи. Пример:

```c++
QLabel *label = new QLabel("Текст надписи");
```

Класс `QLabel` содержит следующие методы (перечислены только основные методы; полный список смотрите в документации):

> `setText()` — задает текст, который будет отображен на надписи. Можно указать как обычный текст, так и текст в формате HTML, который содержит форматирование с помощью CSS. Метод является слотом. Прототип метода:
```c++
void setText(const QString &)
```

Пример:
```c++
label->setText("Текст <b>полужирный</b>");
```

Перевод строки в простом тексте осуществляется с помощью символа `\n`, а в тексте в формате HTML с помощью тега `<br>`. Пример:

```c++
label->setText("Текст\nна двух строках");
label->setText("Текст<br>на двух строках");
```

Внутри текста символ `&`, указанный перед буквой или цифрой, задает комбинацию клавиш быстрого доступа. В этом случае буква, перед которой указан символ `&`, будет подчеркнута, что является подсказкой пользователю. При одновременном нажатии клавиши `<Alt>` и подчеркнутой буквы компонент, указатель на который передан в метод `setBuddy()`, окажется в фокусе ввода. Чтобы вывести символ `&`, необходимо его удвоить. Если надпись не связана с другим компонентом, то символ `&` выводится в составе текста. Пример:
```c++
QLabel *label = new QLabel("&Пароль");
QLineEdit *lineEdit = new QLineEdit();
label->setBuddy(lineEdit)
```

Получение значения:
```c++
QString text() const
```

> **setNum()** — преобразует целое или вещественное число в строку и отображает ее на надписи. Метод является слотом. Прототипы метода:
```c++
void setNum(int num)
void setNum(double num)
```

> **setWordWrap()** — если в параметре указано значение `true`, то текст может переноситься на новую строку. По умолчанию перенос строк не осуществляется. Прототип метода:
```c++
void setWordWrap(bool on)
```

Получение значения:
```c++
bool wordWrap() const
```

> **setTextFormat()** — задает режим отображения текста. Прототип метода:
```c++
void setTextFormat(Qt::TextFormat)
```

Могут быть указаны следующие константы:
* **Qt::PlainText** — простой текст;
* **Qt::RichText** — форматированный текст;
* **Qt::AutoText** — автоматическое определение (режим по умолчанию). Если текст содержит теги, то используется режим **Qt::RichText**, в противном случае — режим **Qt::PlainText**;
* **Qt::MarkdownText** — текст в формате `Markdown`.

Получение значения:
```c++
Qt::TextFormat textFormat() const
```

> **setAlignment()** — задает режим выравнивания текста внутри надписи. [[QHBoxLayout and QVBoxLayout|Допустимые значения]]. Прототип метода:
```c++
void setAlignment(Qt::Alignment)
```

Пример:
```c++
label->setAlignment(Qt::AlignRight | Qt::AlignBottom);
```

Получение значения:
```c++
Qt::Alignment alignment() const
```

> **setOpenExternalLinks()** — если в качестве параметра указано значение true, то щелчок на гиперссылке приведет к открытию браузера, используемого в системе по умолчанию, и загрузке указанной страницы. Прототип метода:
```c++
void setOpenExternalLinks(bool open)
```

Пример:
```c++
label->setText("<a href=\"https://google.ru/\">Это гиперссылка</a>");
label->setOpenExternalLinks(true);
```

Получение значения:
```c++
bool openExternalLinks() const
```

> **setBuddy()** — позволяет связать надпись с другим компонентом. В этом случае в тексте надписи можно задавать клавиши быстрого доступа, указав символ `&` перед буквой или цифрой. После нажатия комбинации клавиш в фокусе ввода окажется компонент, указатель на который передан в качестве параметра. Прототип метода:
```c++
void setBuddy(QWidget *buddy)
```

Получение значения:
```c++
QWidget *buddy() const
```

> **setPixmap()** — позволяет вывести изображение на надпись. Метод является слотом. Прототип метода:
```c++
void setPixmap(const QPixmap &)
```

Пример:
```c++
label->setPixmap(QPixmap("C:\\cpp\\projectsQt\\Test\\photo.jpg"));
```

Получение значения:
```c++
QPixmap pixmap() const
```

> **setPicture()** — позволяет вывести рисунок. Метод является слотом. Прототип метода:
```c++
void setPicture(const QPicture &picture)
```

Получение значения:
```c++
QPicture picture() const
```

> **setMovie()** — позволяет вывести анимацию. Метод является слотом. Прототип метода:
```c++
void setMovie(QMovie *movie)
```

Получение значения:
```c++
QMovie *movie() const
```

>**setScaledContents()** — если в параметре указано значение `true`, то при изменении размеров надписи размер содержимого также будет изменяться. По умолчанию изменение размеров содержимого не осуществляется. Прототип метода:
```c++
void setScaledContents(bool)
```

Получение значения:
```c++
bool hasScaledContents() const
```

> **setMargin()** — задает отступ от рамки до содержимого надписи. Прототип метода:
```c++
void setMargin(int)
```

Получение значения:
```c++
int margin() const
```

> **setIndent()** — задает отступ от рамки до текста надписи в зависимости от значения выравнивания. Если выравнивание производится по левой стороне, то задает отступ слева; если по правой стороне, то справа и т. д. Прототип метода:
```c++
void setIndent(int)
```

Получение значения:
```c++
int indent() const
```

> **clear()** — удаляет содержимое надписи. Метод является слотом. Прототип метода:
```c++
void clear()
```

> **setTextInteractionFlags()** — задает режим взаимодействия пользователя с текстом надписи. Прототип метода:
```c++
void setTextInteractionFlags(Qt::TextInteractionFlags flags)
```

Можно указать следующие константы (или их комбинацию через оператор `|`):

* **Qt::NoTextInteraction** — пользователь не может взаимодействовать с текстом надписи;
* **Qt::TextSelectableByMouse** — текст можно выделить и скопировать в буфер обмена;
* **Qt::TextSelectableByKeyboard** — текст можно выделить с помощью клавиш клавиатуры. Внутри надписи будет отображен текстовый курсор;
* **Qt::LinksAccessibleByMouse** — на гиперссылке можно щелкнуть мышью и скопировать ее адрес;
* **Qt::LinksAccessibleByKeyboard** — с гиперссылкой можно взаимодействовать с помощью клавиатуры. Перемещаться между гиперссылками можно с помощью клавиши `<Tab>`, а переходить по гиперссылке — при нажатии клавиши `<Enter>`;
* `Qt::TextEditable` — текст надписи можно редактировать;
* `Qt::TextEditorInteraction` — комбинация TextSelectableByMouse | TextSelectableByKeyboard | TextEditable;
* **Qt::TextBrowserInteraction** — комбинация TextSelectableByMouse | LinksAccessibleByMouse | LinksAccessibleByKeyboard.

Получение значения:
```c++
Qt::TextInteractionFlags textInteractionFlags() const
```

> **setSelection()** — выделяет фрагмент длиной length, начиная с позиции **start**. Прототип метода:
```c++
void setSelection(int start, int length)
```

> **selectionStart()** — возвращает начальный индекс выделенного фрагмента или значение `–1`, если ничего не выделено. Прототип метода:
```c++
int selectionStart() const
```

> **selectedText()** — возвращает выделенный текст или пустую строку. Прототип метода:
```c++
QString selectedText() const
```

> **hasSelectedText()** — возвращает значение `true`, если существует выделенный фрагмент, и `false` — в противном случае. Прототип метода:
```c++
bool hasSelectedText() const
```

Класс `QLabel` содержит следующие сигналы:

> **linkActivated(const QString&)** — генерируется при переходе по гиперссылке. Через параметр внутри обработчика доступен URL-адрес;

> **linkHovered(const QString&)** — генерируется при наведении указателя мыши на гиперссылку и выведении указателя. Через параметр внутри обработчика доступен URL-адрес или пустая строка.


