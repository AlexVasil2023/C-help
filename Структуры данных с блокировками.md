
[[#Структуры данных с блокировками|Структуры данных с блокировками]] 12 
1. [[#Общие соображения|Общие соображения]] 12.1

# Структуры данных с блокировками

## Общие соображения

Реализация потокобезопасных структур данных – особенная область программирования. Прежде чем погружаться в подробный разбор её специфических трудностей, дадим общую картину в виде списка вопросов, на которые нужно найти ответы при проектировании.

> **Стратегия блокировки.** Должна структура данных блокироваться крупными или мелкими частями? Блокировка структуры целиком проще в реализации, но усиливает конкуренцию потоков.

> **Гранулярность интерфейса.** Чем обширнее интерфейс потокобезопасной структуры данных, тем сложнее становится рассуждать о её использовании из нескольких потоков.

> **Типовые сценарии использования.** Если, например, разрабатываемая структура данных будет преимущественно использоваться для чтения, не стоит оптимизировать её для записи.

> **Избегание прорех.** Нельзя делать детали реализации доступными клиентскому коду.

> **Конкуренция потоков.** Насколько вероятны одновременные запросы к структуре данных из нескольких потоков?

> **Масштабируемость.** Как меняется быстродействие разрабатываемой структуры данных с ростом её размера или с ростом числа параллельных клиентов?

> **Инварианты.** Какие свойства и соотношения должны выполняться в структуре данных на всём протяжении её жизни?

> **Исключения.** Как структура данных должна вести себя с исключениями?
























