
[[#Информация о возможностях устройств|Информация о возможностях устройств]] 3

# Информация о возможностях устройств

Как уже говорилось, для получения сведений о возможностях конкретного устройства OpenCL используется функция [[clGetDeviceInfo#clGetDeviceInfo|clGetDeviceInfo()]], которой должны быть переданы: само устройство `device` (то, что возвращено вызванной ранее функцией [[clGetDeviceIDs|clGetDeviceIDs()]]), вид информации об устройстве `prm_name` (см. список ниже), указатель `prm_value` на место в памяти, куда может быть помещена такая информация, размер памяти в байтах  `prm_value_size` , который должен быть не меньше, чем размер возвращаемой информации, и реальный размер `prm_value_size_ret` информации в байтах.

Для тех сведений, возвращаемый размер которых заранее известен, можно вызывать эту функцию один раз, передавая размер переменной и её адрес, а оставшийся последний параметр полагая равным `NULL`:
```c++
clGetDeviceInfo(device, <ВидИнформации >, sizeof(aValue), &aValue, NULL);
```

Для параметров заранее неизвестного размера (скажем, `CL_DEVICE_NAME`, `CL_DEVICE_VENDOR`,   `CL_DRIVER_VERSION`, `CL_DEVICE_PROFILE`, `CL_DEVICE_VERSION`, `CL_DEVICE_OPENCL_C_VERSION`,   `CL_DEVICE_EXTENSIONS`) следует вызывать эту функцию дважды, первый раз определяя  необходимый размер памяти, затем выделять эту необходимую память и повторно вызывать функцию для получения значения параметра:
```c++
clGetDeviceInfo(device, <ВидИнформации>, 0, NULL, &infoSize);  

char *info = new char [infoSize];  
clGetDeviceInfo(device, <ВидИнформации>, infoSize, info, NULL);
```




































